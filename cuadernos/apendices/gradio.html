
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>17. Introducción a gradio. &#8212; IA generativa</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'cuadernos/apendices/gradio';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="18. Introducción ejemplo de LangGraph." href="../casosUso/EjemploLangGraph.html" />
    <link rel="prev" title="16. Introducción a la generación de texto." href="GeneracionTexto.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../introduccion.html">
  
  
  
  
  
  
    <p class="title logo__title">IA generativa</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">IA generativa</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../langchain.html">1. Langchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basesDatosLangchain.html">2. Conectores a Bases de Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cadenas.html">3. Las cadenas de LangChain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../memoria.html">4. La memoria en LangChain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Agenteslangchain.html">5. Los Agentes en LangChain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Agentes_RAG.html">6. Ejemplo de agente RAG</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ollama.html">7. Ollama</a></li>
<li class="toctree-l1"><a class="reference internal" href="../embeddings.html">8. Cómo hacer embeding's</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assistants/introAsistentes.html">9. La Api de OpenAI.</a></li>

<li class="toctree-l1"><a class="reference internal" href="../conpago.html">11. Métodos de pago</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">IA generativa (Apéndices)</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../apendice.html">12. Apéndice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../videos.html">13. Vídeos interesantes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Llama_2.html">14. Llama 2 en Colab</a></li>
<li class="toctree-l1"><a class="reference internal" href="ModelosNER.html">15. Named Entity Recognition(NER)</a></li>
<li class="toctree-l1"><a class="reference internal" href="GeneracionTexto.html">16. Auto-Completado de texto</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">17. Gradio</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Casos de uso</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../casosUso/EjemploLangGraph.html">18. Ejemplo con LangGraph</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Índice de términos</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Índice de términos</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">



<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Introducción a gradio.</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mas-entornos-para-mostrar-elementos">17.1. Más entornos para mostrar elementos.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chatbots-con-gr-chatinteface">17.2. Chatbots con gr.ChatInteface.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gradio-sketch">17.3. Gradio Sketch.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#la-componentes-de-gradio">17.4. La componentes de Gradio.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estado-de-la-interface">17.5. Estado de la Interface.</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estado-global">17.5.1. Estado global.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estado-de-sesion">17.5.2. Estado de sesión.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tipos-de-interfaces">17.6. Tipos de interfaces.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-con-bloques">17.7. Construcción con bloques.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#trabajar-con-eventos">17.8. Trabajar con eventos.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#apendice">17.9. Apéndice.</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#otras-herramienta-python">17.9.1. Otras herramienta Python</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="introduccion-a-gradio">
<h1><span class="section-number">17. </span>Introducción a gradio.<a class="headerlink" href="#introduccion-a-gradio" title="Link to this heading">#</a></h1>
<p id="index-0">En el emocionante mundo de la inteligencia artificial, desarrollar aplicaciones que interactúen de manera efectiva con los usuarios es crucial. Gradio se destaca como una herramienta revolucionaria que simplifica la creación de interfaces de usuario intuitivas y atractivas para modelos de aprendizaje automático. Con Gradio, puedes llevar tus proyectos de IA al siguiente nivel, permitiendo a tus usuarios interactuar con tus modelos de manera sencilla y visual. Ya sea que estés trabajando en reconocimiento de imágenes, procesamiento de lenguaje natural o cualquier otro campo de la IA, Gradio te brinda la flexibilidad y la potencia necesarias para crear experiencias de usuario excepcionales. ¡Descubre cómo Gradio puede transformar tus aplicaciones de IA y llevarlas al siguiente nivel!</p>
<p>Una de las ventajas clave de Gradio es su capacidad para permitir a los desarrolladores crear interfaces de usuario personalizadas y adaptadas a sus necesidades específicas. Con una variedad de componentes y herramientas disponibles, puedes diseñar interfaces que se ajusten perfectamente a tus objetivos y requisitos. Además, Gradio se integra perfectamente con populares frameworks de aprendizaje automático como PyTorch y TensorFlow, lo que te permite aprovechar al máximo tus modelos y llevar tus aplicaciones de IA a la vida real de manera rápida y eficiente.</p>
<p>En este apartado se van a mostrar los elementos más básicos de gradio, para que el lectorpueda tomar el impulso necesario y que después pueda ir ampliando conocimientos de forma autónoma, y para ello lo que se hace es en el apéndice de este tema, incluir algunos enlaces que pueden ser muy útiles para poder adquirir y ampliar este tipo de conocimientos.</p>
<p>Comencemos por decir que como siempre en python, lo primero que hay que hacer es instalarse la librería que nos permita trabajar con este paquete. Para ello debemos ejecutar el siguiente comando:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">gradio</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="ch">#!pip install gradio</span>
</pre></div>
</div>
</div>
</div>
<p>Para entrando e materia, lo primero es mostrar un sencillo ejemplo, de tipo ¡¡¡Hola mundo!!! para que se pueda ir apreciando la sencillez de gradio a la hora mostrar contenidos. Vayamos a eso y ejecutemos el código siguiente que después se explicará lo que hace</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">gradio</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gr</span>

<span class="k">def</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">intensity</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;Buenas, &quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;!&quot;</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">intensity</span><span class="p">)</span>

<span class="n">demo</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span>
    <span class="n">fn</span><span class="o">=</span><span class="n">greet</span><span class="p">,</span>
    <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="s2">&quot;slider&quot;</span><span class="p">],</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">],</span>
<span class="p">)</span>

<span class="n">demo</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>D:\MisTrabajos\IA_generativa\venv\Lib\site-packages\tqdm\auto.py:21: TqdmWarning: IProgress not found. Please update jupyter and ipywidgets. See https://ipywidgets.readthedocs.io/en/stable/user_install.html
  from .autonotebook import tqdm as notebook_tqdm
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>* Running on local URL:  http://127.0.0.1:7860

To create a public link, set `share=True` in `launch()`.
</pre></div>
</div>
<div class="output text_html"><div><iframe src="http://127.0.0.1:7860/" width="100%" height="500" allow="autoplay; camera; microphone; clipboard-read; clipboard-write;" frameborder="0" allowfullscreen></iframe></div></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>Como puede verse de una forma bien simple y con muy pocos líneas de código, obtenemos un resultado muy positivo. A continuación se procede a explicar lo que hace cada línea del código.</p>
<p>Lo primero que se hace es definir un función que toma como entradas el/los valores que se le mandan desde la sección que se va a indicar posteriormente, y devuelve el valor que se va a mostrar en el output de la interfac que a continuación se pasa a explicar.</p>
<p>En la línea 6 es donde <a href="https://www.gradio.app/docs/gradio/interface" target='_blank'> se define la interface </a>, la cual es uno de los elementos más importantes de gradio, con la cual se puede crear una GUI/demo basada en un determinad modelo de aprendizaje automático (o cualquier otro tipo de código Python) con pocas líneas de código.</p>
<p>En esta interface se deben al menos los siguientes parámetros:</p>
<ul class="simple">
<li><p><strong>fn</strong>. Es la función a la que se llama y que nos devuelve los valores que se mostrarán después en el output.</p></li>
<li><p><strong>inputs</strong>. Son los componentes de entrada que necesitemos.</p></li>
<li><p><strong>outputs</strong>. Son los componentes de salida deseados.</p></li>
</ul>
<p>Tan sólo con este simple conocimiento, ya se puede definir una página web donde podemos interactuar con el modelo. Hay que tener en cuenta que además de esos tres parámetros, esta interface cuenta con muchos más parámetros con los cuales podemos mejorar las presentaciones. Para mostrar esto, vamos a modificar ligeramente el ejemplo anterior, para mejorar la presentación.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">gradio</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gr</span>

<span class="k">def</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">intensity</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;Buenas, &quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;!&quot;</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">intensity</span><span class="p">)</span>

<span class="n">demo</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span>
    <span class="n">fn</span><span class="o">=</span><span class="n">greet</span><span class="p">,</span>
    <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="n">gr</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Nombre y apellidos&quot;</span><span class="p">),</span> <span class="n">gr</span><span class="o">.</span><span class="n">Slider</span><span class="p">(</span><span class="n">minimum</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">maximum</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;N. repeticiones&quot;</span><span class="p">)],</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">],</span>
<span class="p">)</span>

<span class="n">demo</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>* Running on local URL:  http://127.0.0.1:7861

To create a public link, set `share=True` in `launch()`.
</pre></div>
</div>
<div class="output text_html"><div><iframe src="http://127.0.0.1:7861/" width="100%" height="500" allow="autoplay; camera; microphone; clipboard-read; clipboard-write;" frameborder="0" allowfullscreen></iframe></div></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>Expliquemos a continuación los cambios que hemos hecho en la presentación anterior. En la linea 8 y para el parámetro inputs, lo que se ha hecho es sustituir la expresión “text”, por el componente concreto, que en su caso es <em>Textbox</em> y se le ha añadido el parámetro <em>labe</em> con un valor igual al que aparece encima de dicho campo cuando se muestra este campo. Algo similar se ha hecho cambiando la expresión <em>“slider”</em> por <em>gr.slider</em>. Todos los parámetros que admiten los componentes, se pueden encontrar en la documentación de gradio, por ejemplo los parámetros de este último componente los podemos encontrar <a href="https://www.gradio.app/docs/gradio/slider" target="_blank"> en este enlace </a>.</p>
<p>Si su función acepta más de un argumento, como en el caso anterior, pase una lista de componentes de entrada a inputs, donde cada componente de entrada corresponda a uno de los argumentos de la función, en orden. Lo mismo aplica si su función devuelve más de un valor: simplemente pase una lista de componentes a outputs. Esta flexibilidad convierte a la clase Interface en una herramienta muy eficaz para crear demostraciones.</p>
<p>La salida anterior también la podemos ver en nuestro ordenador local, sin más que poner en un navegador la siguiente dirección:  <a class="reference external" href="http://localhost:7860">http://localhost:7860</a>.</p>
<p>También se puede hacer esta salida como pública, de tal manera que pueda ser vista fuera del ordenador local, para lo cual se debe poner el parámetro <em>share=True</em> en el método <em>launch()</em>.</p>
<section id="mas-entornos-para-mostrar-elementos">
<h2><span class="section-number">17.1. </span>Más entornos para mostrar elementos.<a class="headerlink" href="#mas-entornos-para-mostrar-elementos" title="Link to this heading">#</a></h2>
<p>No sólo se puede utilizar la interface para hacer estas presentaciones, pues gradio ofrece otras herramientas interesantes para ello.</p>
<p>Se pueden crear Demos a medida con <em>gr.Blocks</em> con los cuales se pueden diseñar aplicaciones web con diseños y flujos de datos más personalizables y de esta manera y entre otras cosas, controlar la ubicación de los componentes en la página, gestionar múltiples flujos de datos e interacciones más complejas (por ejemplo, las salidas pueden servir como entradas para otras funciones) y actualizar las propiedades y la visibilidad de los componentes según la interacción del usuario. Gracias a estas facilidades, se puede construir la popular herramienta de generación de imágenes <a href ="https://github.com/AUTOMATIC1111/stable-diffusion-webui" target="_blank"> Automatic1111 </a>.</p>
</section>
<section id="chatbots-con-gr-chatinteface">
<h2><span class="section-number">17.2. </span>Chatbots con gr.ChatInteface.<a class="headerlink" href="#chatbots-con-gr-chatinteface" title="Link to this heading">#</a></h2>
<p>Gradio, también son ofrece esta clase, diseñada específicamente para crear interfaces de usuario para chatbots. Al igual que en Interface, proporcionas una función y Gradio crea una interfaz de usuario para chatbot completamente funcional.</p>
</section>
<section id="gradio-sketch">
<h2><span class="section-number">17.3. </span>Gradio Sketch.<a class="headerlink" href="#gradio-sketch" title="Link to this heading">#</a></h2>
<p>También se pueden crear aplicaciones Gradio sin escribir código. Simplemente escribe gradio sketchen en tu terminal para abrir un editor que te permite definir y modificar componentes Gradio, ajustar sus diseños y añadir eventos, todo mediante un editor web. También puedes usar <a href="https://huggingface.co/spaces/aliabid94/Sketch" target="_blank">  esta versión alojada de Gradio Sketch, que se ejecuta en Hugging Face Spaces </a>.</p>
</section>
<section id="la-componentes-de-gradio">
<h2><span class="section-number">17.4. </span>La componentes de Gradio.<a class="headerlink" href="#la-componentes-de-gradio" title="Link to this heading">#</a></h2>
<p>Gradio contiene más de 30 componentes para poder crear los elementos visuales de las página web que se pueden crear con él.Estas componentes se pueden usar como inputs o como outputs en los diseños creados por el usuario. Estas componentes, se pueden <a href="https://www.gradio.app/docs/gradio/introduction" target="_blank"> ver en este enlace </a>.</p>
<p>Todas estas componentes tienen una serie de atributos que permiten particularizarlas de acuerdo a las necesidades de los usuarios y así conseguir con muy poco esfuerzo las necesidades puntuales de cada uno.</p>
<p>Veamos el siguiente ejemplo, que nos muestra como deben estar estructuradas las componentes de la interface, y en concreto la lista de <em>inputs</em> y la lista de <em>outputs</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">gradio</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gr</span>

<span class="k">def</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">is_morning</span><span class="p">,</span> <span class="n">temperature</span><span class="p">):</span>
    <span class="n">salutation</span> <span class="o">=</span> <span class="s2">&quot;Buenos días&quot;</span> <span class="k">if</span> <span class="n">is_morning</span> <span class="k">else</span> <span class="s2">&quot;Buenas tardes&quot;</span>
    <span class="n">greeting</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">salutation</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. La temperatura es de </span><span class="si">{</span><span class="n">temperature</span><span class="si">}</span><span class="s2"> grados hoy&quot;</span>
    <span class="n">celsius</span> <span class="o">=</span> <span class="p">(</span><span class="n">temperature</span> <span class="o">-</span> <span class="mi">32</span><span class="p">)</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">/</span> <span class="mi">9</span>
    <span class="k">return</span> <span class="n">greeting</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">demo</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span>
    <span class="n">fn</span><span class="o">=</span><span class="n">greet</span><span class="p">,</span>
    <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="s2">&quot;checkbox&quot;</span><span class="p">,</span> <span class="n">gr</span><span class="o">.</span><span class="n">Slider</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)],</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="s2">&quot;number&quot;</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">demo</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>* Running on local URL:  http://127.0.0.1:7862

To create a public link, set `share=True` in `launch()`.
</pre></div>
</div>
<div class="output text_html"><div><iframe src="http://127.0.0.1:7862/" width="100%" height="500" allow="autoplay; camera; microphone; clipboard-read; clipboard-write;" frameborder="0" allowfullscreen></iframe></div></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>Como puede observarse en el ejemplo anterior, el número de elementos de la lista <em>inputs</em> debe de coincider con el número de parámetros de la función a la que se llama, y el número de elementos de la lista <em>outputs</em> debe de coincidir con los valores que devuelve la función a la que se llama. Ello es así puesto que los parámetros de entrada de la función son los valores (y en ese orden) que se pasa en la lista de <em>inputs</em>. Igual consideración hay que hacer para los valores de outputs.</p>
<p>También existe la posibilidad de añadir inputs adicionales incluidos éstos dentro de un componente en forma de acordeón. Esto lo podemos ver en el siguiente ejemplo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">gradio</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gr</span>

<span class="k">def</span><span class="w"> </span><span class="nf">generate_fake_image</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">seed</span><span class="p">,</span> <span class="n">initial_image</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Used seed: </span><span class="si">{</span><span class="n">seed</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;https://dummyimage.com/300/09f.png&quot;</span>

<span class="n">demo</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span>
    <span class="n">generate_fake_image</span><span class="p">,</span>
    <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;textbox&quot;</span><span class="p">],</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;textbox&quot;</span><span class="p">,</span> <span class="s2">&quot;image&quot;</span><span class="p">],</span>
    <span class="n">additional_inputs</span><span class="o">=</span><span class="p">[</span>
        <span class="n">gr</span><span class="o">.</span><span class="n">Slider</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span>
        <span class="s2">&quot;image&quot;</span>
    <span class="p">]</span>
<span class="p">)</span>

<span class="n">demo</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>* Running on local URL:  http://127.0.0.1:7863

To create a public link, set `share=True` in `launch()`.
</pre></div>
</div>
<div class="output text_html"><div><iframe src="http://127.0.0.1:7863/" width="100%" height="500" allow="autoplay; camera; microphone; clipboard-read; clipboard-write;" frameborder="0" allowfullscreen></iframe></div></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="estado-de-la-interface">
<h2><span class="section-number">17.5. </span>Estado de la Interface.<a class="headerlink" href="#estado-de-la-interface" title="Link to this heading">#</a></h2>
<p id="index-1">Todos los ejemplos que se han visto hasta ahora se han hecho de tal manera que los resultados <em>no tienen estado</em>, es decir que los resultados obtenidos no persiste más allá de la ejecución puntual que realicemos. Pero en muchas ocasiones lo que se necesita es persistir ese valor para poder interactuar con otros resultados, de ahí la necesidad de poder guardar o persitir determinados resultados. En Gradio, existen dos enfoques para conseguir esto: <em>estado global</em> y <em>estado de sesión</em>.</p>
<section id="estado-global">
<h3><span class="section-number">17.5.1. </span>Estado global.<a class="headerlink" href="#estado-global" title="Link to this heading">#</a></h3>
<p>Si se quiere que el estado debe ser accesible para todas las llamadas a funciones y todos los usuarios, puede crear una variable fuera de la llamada a la función y acceder a ella dentro de esa función. Por ejemplo, puede cargar un modelo grande fuera de la función y usarlo dentro de ella para que cada llamada a la función no tenga que recargarlo.</p>
<p>Veamos un ejemplo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">gradio</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gr</span>

<span class="n">scores</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">track_score</span><span class="p">(</span><span class="n">score</span><span class="p">):</span>
    <span class="n">scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
    <span class="n">top_scores</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">scores</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">top_scores</span>

<span class="n">demo</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span>
    <span class="n">track_score</span><span class="p">,</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">Number</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Score&quot;</span><span class="p">),</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">JSON</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Top Scores&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">demo</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>* Running on local URL:  http://127.0.0.1:7864

To create a public link, set `share=True` in `launch()`.
</pre></div>
</div>
<div class="output text_html"><div><iframe src="http://127.0.0.1:7864/" width="100%" height="500" allow="autoplay; camera; microphone; clipboard-read; clipboard-write;" frameborder="0" allowfullscreen></iframe></div></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>En este ejemplo , la matriz <em>scores</em> se comparte entre todos los usuarios (tener en cuenta que se ha definido fuera de la función que llama la interface). Si varios usuarios acceden a esta demostración, sus puntuaciones se añadirán a la misma lista y las 3 puntuaciones más altas se recopilarán de esta referencia compartida.</p>
</section>
<section id="estado-de-sesion">
<h3><span class="section-number">17.5.2. </span>Estado de sesión.<a class="headerlink" href="#estado-de-sesion" title="Link to this heading">#</a></h3>
<p>Otro tipo de persistencia de datos compatible con Gradio es el <strong>estado de sesión</strong>, donde los datos persisten tras múltiples envíos dentro de una sesión de página. Sin embargo, los datos no se comparten entre los diferentes usuarios del modelo. Para almacenar datos en un estado de sesión, debe realizar tres pasos:</p>
<p>1.- Pase un parámetro adicional a su función, que representa el estado de la interfaz.
2.- Al final de la función, devuelve el valor actualizado del estado como un valor de retorno adicional.
3.- Agregue los componentes ‘state’de entrada y ‘state’ salida al crear suInterface</p>
<p>Veamos a continuación una pequeña muestra de cómo operar con sesiones de estado</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">gradio</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gr</span>

<span class="k">def</span><span class="w"> </span><span class="nf">store_message</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">history</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]):</span>  
    <span class="n">output</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Current messages&quot;</span><span class="p">:</span> <span class="n">message</span><span class="p">,</span>
        <span class="s2">&quot;Previous messages&quot;</span><span class="p">:</span> <span class="n">history</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">history</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">output</span><span class="p">,</span> <span class="n">history</span>

<span class="n">demo</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span><span class="n">fn</span><span class="o">=</span><span class="n">store_message</span><span class="p">,</span>
                    <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;textbox&quot;</span><span class="p">,</span> <span class="n">gr</span><span class="o">.</span><span class="n">State</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="p">[])],</span>
                    <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="n">gr</span><span class="o">.</span><span class="n">State</span><span class="p">()])</span>

<span class="n">demo</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>* Running on local URL:  http://127.0.0.1:7865

To create a public link, set `share=True` in `launch()`.
</pre></div>
</div>
<div class="output text_html"><div><iframe src="http://127.0.0.1:7865/" width="100%" height="500" allow="autoplay; camera; microphone; clipboard-read; clipboard-write;" frameborder="0" allowfullscreen></iframe></div></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>Observar cómo el estado persiste en todos los envíos dentro de cada página, pero si carga esta demostración en otra pestaña (o actualiza la página), las demostraciones no compartirán el historial de chat. En este caso, no pudimos almacenar el historial de envíos en una variable global; de lo contrario, se mezclaría entre los diferentes usuarios.</p>
</section>
</section>
<section id="tipos-de-interfaces">
<h2><span class="section-number">17.6. </span>Tipos de interfaces.<a class="headerlink" href="#tipos-de-interfaces" title="Link to this heading">#</a></h2>
<p>Gradio soporta cuatro tipos de interfaces:</p>
<p>1.- Interface estándar: que tienen entradas y salidas independientes (son las que hemos visto en los ejemplos anteriores).</p>
<p>2.- Interfaces de solo salida: que no toman ninguna entrada pero producen en la salida.</p>
<p>3.- Interfaces de solo entrada:  que no producen ninguna salida pero sí aceptan algún tipo de entrada.</p>
<p>4.- Interfaces unificadas: que tienen componentes de entrada y salida, pero estos son los mismos . Esto significa que la salida generada anula la entrada (por ejemplo, un modelo de autocompletado de texto)</p>
<p><img alt="" src="../../_images/interfaces.PNG" /></p>
</section>
<section id="construccion-con-bloques">
<h2><span class="section-number">17.7. </span>Construcción con bloques.<a class="headerlink" href="#construccion-con-bloques" title="Link to this heading">#</a></h2>
<p>Al trabajar con bloques podemos conseguir presentaciones más personalizadas que las que se obtienen utilizando las interfaces descritas en los apartados anteriores. Con estas herramientas podemos conseguir una disposición de los elementos de la página web a nuestra mediad, pero hay que tener en cuenta que por defecto, Gradio los coloca de forma vertical. Veamos a continuación un ejemplo introductorio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">gradio</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gr</span>


<span class="k">def</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;Hola &quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;!&quot;</span>


<span class="k">with</span> <span class="n">gr</span><span class="o">.</span><span class="n">Blocks</span><span class="p">()</span> <span class="k">as</span> <span class="n">demo</span><span class="p">:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Nombre&quot;</span><span class="p">)</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Salida generada&quot;</span><span class="p">)</span>
    <span class="n">greet_btn</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Adelante  !!!&quot;</span><span class="p">)</span>
    <span class="n">greet_btn</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">fn</span><span class="o">=</span><span class="n">greet</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">output</span><span class="p">,</span> <span class="n">api_name</span><span class="o">=</span><span class="s2">&quot;greet&quot;</span><span class="p">)</span>

<span class="n">demo</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>* Running on local URL:  http://127.0.0.1:7866

To create a public link, set `share=True` in `launch()`.
</pre></div>
</div>
<div class="output text_html"><div><iframe src="http://127.0.0.1:7866/" width="100%" height="500" allow="autoplay; camera; microphone; clipboard-read; clipboard-write;" frameborder="0" allowfullscreen></iframe></div></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>Como puede verse, en este tipo de composiciones, los elementos a mostrar se inluyen de un bloque y después y dependiendo de la estrutura en la presentación que se quiera dar, se muestran de una u otra forma.</p>
<p>Con una estructura de código más moderna, se pueden utilizar decoradores que agilizan la estructura del código. Veamos el mismo ejemplo de antes, pero con este nuevo elemento</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">gradio</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gr</span>

<span class="k">with</span> <span class="n">gr</span><span class="o">.</span><span class="n">Blocks</span><span class="p">()</span> <span class="k">as</span> <span class="n">demo</span><span class="p">:</span>
    <span class="n">nombre</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Nombre&quot;</span><span class="p">)</span>
    <span class="n">salida</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Salida generada&quot;</span><span class="p">)</span>
    <span class="n">greet_btn</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Adelante !!!&quot;</span><span class="p">)</span>

    <span class="nd">@greet_btn</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">nombre</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">salida</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Hola &quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;!&quot;</span>

<span class="n">demo</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>* Running on local URL:  http://127.0.0.1:7867

To create a public link, set `share=True` in `launch()`.
</pre></div>
</div>
<div class="output text_html"><div><iframe src="http://127.0.0.1:7867/" width="100%" height="500" allow="autoplay; camera; microphone; clipboard-read; clipboard-write;" frameborder="0" allowfullscreen></iframe></div></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="trabajar-con-eventos">
<h2><span class="section-number">17.8. </span>Trabajar con eventos.<a class="headerlink" href="#trabajar-con-eventos" title="Link to this heading">#</a></h2>
<p>Los eventos son una parte muy importante de cualquier lenguaje de programación, y en este sentido Gradio cuenta con los eventos suficientes como para poder ofrecer al usuario todos aquellos que necesite a la hora de realizar sus presentaciones web.</p>
<p>En los ejemplos anteriores hemos visto, como incorporar el evento <em>click</em> para un botón, pero existen muchos más eventos para la mayor parte de los componentes. Estos eventos vienen descritos en la documentación oficial de Gradio, para cada componente.</p>
<p>Podemos poner como otro ejemplo la interacción de un campo de texto con el usuario, de tal manera que cuando se detecte algún cambio en el campo de texto se haga algo. Para hacer esto utilizamos el evento <em>change()</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">gradio</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gr</span>

<span class="k">def</span><span class="w"> </span><span class="nf">welcome</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Bienvenido a mi web, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span>

<span class="k">with</span> <span class="n">gr</span><span class="o">.</span><span class="n">Blocks</span><span class="p">()</span> <span class="k">as</span> <span class="n">demo</span><span class="p">:</span>
    <span class="n">gr</span><span class="o">.</span><span class="n">Markdown</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    # Hola!</span>
<span class="sd">   Comienza a escribir el output!.</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="p">)</span>
    <span class="n">inp</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Textbox</span><span class="p">(</span><span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Cual es tu nombre?&quot;</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">Textbox</span><span class="p">()</span>
    <span class="n">inp</span><span class="o">.</span><span class="n">change</span><span class="p">(</span><span class="n">welcome</span><span class="p">,</span> <span class="n">inp</span><span class="p">,</span> <span class="n">out</span><span class="p">)</span>

<span class="n">demo</span><span class="o">.</span><span class="n">launch</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>* Running on local URL:  http://127.0.0.1:7868

To create a public link, set `share=True` in `launch()`.
</pre></div>
</div>
<div class="output text_html"><div><iframe src="http://127.0.0.1:7868/" width="100%" height="500" allow="autoplay; camera; microphone; clipboard-read; clipboard-write;" frameborder="0" allowfullscreen></iframe></div></div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="apendice">
<h2><span class="section-number">17.9. </span>Apéndice.<a class="headerlink" href="#apendice" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a href="https://www.gradio.app/" target="_blank"> Página oficial </a></p></li>
<li><p><a href="https://www.gradio.app/docs/gradio/interface" target="_blank"> API de gradio </a></p></li>
</ul>
<section id="otras-herramienta-python">
<h3><span class="section-number">17.9.1. </span>Otras herramienta Python<a class="headerlink" href="#otras-herramienta-python" title="Link to this heading">#</a></h3>
<p>Python nos ofrece además otros entornos para generar páginas web:</p>
<ul class="simple">
<li><p><a href="https://streamlit.io/" target="_blank"> Streamlit </a></p></li>
<li><p><a href="https://mesop-dev.github.io/mesop/" target="_blank"> Mesop </a></p></li>
<li><p><a href="https://flask.palletsprojects.com/en/stable/" target="_blank"> Flask </a></p></li>
<li><p><a href="https://www.djangoproject.com/" target="_blank"> Django </a></p></li>
<li><p><a href="https://fastapi.tiangolo.com/" target="_blank"> FastAPI </a></p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./cuadernos\apendices"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="GeneracionTexto.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">16. </span>Introducción a la generación de texto.</p>
      </div>
    </a>
    <a class="right-next"
       href="../casosUso/EjemploLangGraph.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">18. </span>Introducción ejemplo de LangGraph.</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mas-entornos-para-mostrar-elementos">17.1. Más entornos para mostrar elementos.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chatbots-con-gr-chatinteface">17.2. Chatbots con gr.ChatInteface.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gradio-sketch">17.3. Gradio Sketch.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#la-componentes-de-gradio">17.4. La componentes de Gradio.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estado-de-la-interface">17.5. Estado de la Interface.</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estado-global">17.5.1. Estado global.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estado-de-sesion">17.5.2. Estado de sesión.</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tipos-de-interfaces">17.6. Tipos de interfaces.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-con-bloques">17.7. Construcción con bloques.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#trabajar-con-eventos">17.8. Trabajar con eventos.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#apendice">17.9. Apéndice.</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#otras-herramienta-python">17.9.1. Otras herramienta Python</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Francisco Rodríguez
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>